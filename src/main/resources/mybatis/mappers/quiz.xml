<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="quiz">

	<select id="list" parameterType="quizvo" resultType="quizvo">
		<![CDATA[
			select a.no, b.title, a.quiz, a.ex1, a.ex2, a.ex3, a.ex4, a.answer, 
			a.accept, a.book_no as bookNo from quiz a, book b 
			where a.book_no=b.no order by a.no desc
		]]>
	</select>
	
	<select id="getByNo" parameterType="Long" resultType="quizvo">
		<![CDATA[
			select a.no, b.title, a.quiz, a.ex1, a.ex2, a.ex3, a.ex4, a.answer, 
			a.accept, a.book_no as bookNo from quiz a, book b 
			where a.book_no=b.no and a.no=#{no}
		]]>
	</select>
	
	<update id="update" parameterType="quizvo">
		<![CDATA[
			update quiz set accept=#{accept} where no=#{no}
		]]>
	</update>
	
	<insert id="insert" parameterType="quizvo">
		<![CDATA[
			insert into quiz values(seq_quiz.nextval, #{quiz}, #{ex1}, #{ex2}, #{ex3}, #{ex4}, #{answer}, 1, #{bookNo})
		]]>
	</insert>
	
</mapper>